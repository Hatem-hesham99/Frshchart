import './polyfills.server.mjs';
import{a as I}from"./chunk-GMNO6ZVF.mjs";import{l as P,m as E}from"./chunk-SQCRCTUK.mjs";import{m as w}from"./chunk-TRQRIWUV.mjs";import{$a as g,Cb as h,Eb as S,Fb as p,Mb as a,Oa as x,Ob as c,Ra as n,V as d,Vb as y,ba as u,ca as v,fb as f,pb as s,tb as _,vb as C,wb as b,xb as r,yb as o,zb as l}from"./chunk-AIV2EVMX.mjs";import"./chunk-X2SEQXRR.mjs";var D=(i,t)=>t._id,j=(i,t)=>["/details",i,t];function F(i,t){if(i&1){let e=h();r(0,"div",3)(1,"div",4)(2,"div",5),l(3,"img",6),o(),r(4,"div",7)(5,"h4",8),a(6),o(),r(7,"h3",9),a(8),o(),r(9,"div",10)(10,"span",11),a(11),o(),r(12,"div",12),l(13,"i",13),r(14,"span",14),a(15),o()()()()(),r(16,"button",15),S("click",function(){let k=u(e).$implicit,A=p(2);return v(A.addProductToCart(k._id))}),r(17,"span",16),a(18," Add to cart"),o(),l(19,"i",17),o()()}if(i&2){let e=t.$implicit;n(),s("routerLink",y(7,j,e.slug,e._id)),n(2),s("src",e.imageCover,x)("alt",e.title),n(3),c(" ",e.category.name," "),n(2),c(" ",e.title.split(" ",2).join(" ")," "),n(3),c(" ",e.price," EGP"),n(4),c(" ",e.ratingsAverage," ")}}function N(i,t){if(i&1&&(r(0,"section",0)(1,"h2",1),a(2,"All products"),o(),r(3,"div",2),C(4,F,20,10,"div",3,D),o()()),i&2){let e=p();n(4),b(e.products)}}var T=class i{products=[];productService=d(I);cartService=d(P);toastrService=d(E);ngOnInit(){this.getData()}getData(){this.productService.getAllProducts().subscribe({next:t=>{console.log(t),this.products=t.data},error:t=>{console.log(t)}})}addProductToCart(t){this.cartService.addToCart(t).subscribe({next:e=>{console.log(e),e.status==="success"&&(this.toastrService.success(e.message,"Add To Cart"),this.cartService.cartNumber.next(e.numOfCartItems),console.log(this.cartService.cartNumber.getValue()))},error:e=>{console.log(e)}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["app-products"]],decls:1,vars:1,consts:[[1,"py-10","selection:bg-red-600","selection:text-white"],[1,"capitalize","text-3xl","pb-6","text-red-600"],[1,"grid","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5","gap-10"],[1,"card","border","border-green-400/50","shadow","rounded-md","overflow-hidden","relative","md:hover:scale-110","transition-all","duration-500"],["role","button",3,"routerLink"],[1,"imgCard","px-2"],[1,"w-full","h-[250px]","object-contain",3,"src","alt"],[1,"bodyCard","px-2","py-4","ms-5","md:ms-0"],[1,"text-xs","text-red-600"],[1,"font-medium"],[1,"flex","justify-between","items-center"],[1,"hover:text-red-600","transition-all","duration-300"],[1,"flex","items-center"],[1,"fas","fa-star","text-yellow-400"],[1,"text-gray-400"],[1,"mb-1","bg-red-600","text-white","border","rounded","py-1","w-2/5","mx-auto","block","md:w-full","hover:bg-yellow-400","transition-all","duration-300","group",3,"click"],[1,"group-hover:hidden","transition-all","duration-500"],[1,"fa-solid","fa-cart-plus","group-hover:text-black"]],template:function(e,m){e&1&&f(0,N,6,0,"section",0),e&2&&_(m.products?0:-1)},dependencies:[w],encapsulation:2})};export{T as ProductsComponent};
